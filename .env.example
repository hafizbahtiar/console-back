# ============================================
# Console Backend - Environment Variables
# ============================================
# Copy this file to .env and update with your values
# DO NOT commit .env to version control

# ============================================
# Application Configuration
# ============================================
NODE_ENV=development
PORT=8000

# ============================================
# Database Configuration
# ============================================
MONGODB_URI=mongodb://localhost:27017/console

# ============================================
# JWT Configuration
# ============================================
JWT_ACCESS_SECRET=your-access-secret-key-change-in-production
JWT_REFRESH_SECRET=your-refresh-secret-key-change-in-production
JWT_ACCESS_TOKEN_EXPIRATION=15m
JWT_REFRESH_TOKEN_EXPIRATION=7d

# ============================================
# CORS Configuration
# ============================================
# Comma-separated list of allowed origins
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true
CORS_PREFLIGHT_MAX_AGE=86400

# ============================================
# Password Hashing (Argon2)
# ============================================
ARGON2_MEMORY_COST=65536
ARGON2_TIME_COST=3
ARGON2_PARALLELISM=4

# ============================================
# Email Configuration
# ============================================
EMAIL_FROM=noreply@console.app
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=

# ============================================
# Frontend Configuration
# ============================================
FRONTEND_URL=http://localhost:3000

# ============================================
# File Upload Configuration
# ============================================
MAX_FILE_SIZE=10485760
MAX_IMAGE_SIZE=5242880
UPLOAD_STORAGE_PATH=uploads
UPLOAD_PUBLIC_URL=http://localhost:8000/api/v1/uploads

# ============================================
# Location Detection Configuration
# ============================================
LOCATION_ENABLED=true
LOCATION_API_URL=http://ip-api.com/json

# ============================================
# Redis Configuration
# ============================================
# Redis connection for queues and caching
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_RETRY_DELAY=100
REDIS_MAX_RETRIES=3
REDIS_ENABLE_READY_CHECK=true
REDIS_ENABLE_OFFLINE_QUEUE=true

# ============================================
# Queue Configuration
# ============================================
# Queue settings are configured via Redis above
# Additional queue-specific settings can be added here if needed

# ============================================
# WebSocket Configuration
# ============================================
# Rate limiting for WebSocket connections
WS_RATE_LIMIT_PER_MINUTE=30
WS_RATE_LIMIT_PER_HOUR=500

# ============================================
# Scheduler / Cron Jobs Configuration
# ============================================
# Enable/disable individual cron jobs
SCHEDULER_SAMPLE_JOB_ENABLED=false
SCHEDULER_SESSION_CLEANUP_ENABLED=true
SCHEDULER_EMAIL_QUEUE_MONITORING_ENABLED=true
SCHEDULER_EMAIL_QUEUE_WARNING_THRESHOLD=100
SCHEDULER_ACCOUNT_DELETION_TOKEN_CLEANUP_ENABLED=true
SCHEDULER_DATABASE_MAINTENANCE_ENABLED=false

# ============================================
# PM2 Configuration
# ============================================
# Process type: 'api', 'worker', or 'scheduler'
# This determines which modules are loaded
# Default: 'api' (if not set)
PROCESS_TYPE=api

# ============================================
# Bull Board Configuration
# ============================================
# Bull Board authentication (optional)
# If not set, Bull Board will be accessible to all authenticated users
# Set these to add basic authentication to Bull Board dashboard
BULL_BOARD_USERNAME=
BULL_BOARD_PASSWORD=

# ============================================
# Production Notes
# ============================================
# In production, ensure the following are set:
# - NODE_ENV=production
# - MONGODB_URI (required)
# - JWT_ACCESS_SECRET (required, use strong random string)
# - JWT_REFRESH_SECRET (required, use strong random string)
# - CORS_ORIGIN (required, set to your frontend domain(s))
# - REDIS_HOST, REDIS_PORT (if using Redis)
# - SMTP configuration (if sending emails)
# - BULL_BOARD_USERNAME and BULL_BOARD_PASSWORD (recommended for production)
